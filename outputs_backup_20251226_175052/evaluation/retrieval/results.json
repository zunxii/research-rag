{
  "timestamp": "2025-12-26T13:01:21.585237",
  "kb_dir": "outputs/kb/kb_final_v2",
  "modes": {
    "text": {
      "metrics": {
        "R@1": 1.0,
        "P@1": 1.0,
        "R@5": 1.0,
        "P@5": 1.0,
        "R@10": 1.0,
        "P@10": 1.0,
        "R@20": 1.0,
        "P@20": 0.9953565505804314,
        "MRR": 1.0,
        "MAP": 0.9998865985501768,
        "NDCG@5": 1.0,
        "NDCG@10": 1.0
      },
      "num_queries": 3015
    },
    "image": {
      "metrics": {
        "R@1": 0.9850746268656716,
        "P@1": 0.9850746268656716,
        "R@5": 0.9893864013266999,
        "P@5": 0.9629850746268663,
        "R@10": 0.9917081260364843,
        "P@10": 0.9413598673300169,
        "R@20": 0.9940298507462687,
        "P@20": 0.9010281923714767,
        "MRR": 0.9875199114502595,
        "MAP": 0.9757596448141308,
        "NDCG@5": 0.9875289921065289,
        "NDCG@10": 0.9875066645751921
      },
      "num_queries": 3015
    },
    "fusion": {
      "metrics": {
        "R@1": 0.9996683250414594,
        "P@1": 0.9996683250414594,
        "R@5": 1.0,
        "P@5": 0.9970149253731345,
        "R@10": 1.0,
        "P@10": 0.9930348258706475,
        "R@20": 1.0,
        "P@20": 0.9820895522388051,
        "MRR": 0.9997512437810945,
        "MAP": 0.9968686787989243,
        "NDCG@5": 0.9996841886746405,
        "NDCG@10": 0.9995234178906489
      },
      "num_queries": 3015
    }
  },
  "analysis": {
    "mode_comparison": {
      "R@1": {
        "text": 1.0,
        "image": 0.9850746268656716,
        "fusion": 0.9996683250414594
      },
      "R@5": {
        "text": 1.0,
        "image": 0.9893864013266999,
        "fusion": 1.0
      },
      "R@10": {
        "text": 1.0,
        "image": 0.9917081260364843,
        "fusion": 1.0
      },
      "MRR": {
        "text": 1.0,
        "image": 0.9875199114502595,
        "fusion": 0.9997512437810945
      },
      "MAP": {
        "text": 0.9998865985501768,
        "image": 0.9757596448141308,
        "fusion": 0.9968686787989243
      }
    },
    "best_modes": {
      "R@1": {
        "mode": "text",
        "value": 1.0
      },
      "R@5": {
        "mode": "text",
        "value": 1.0
      },
      "R@10": {
        "mode": "text",
        "value": 1.0
      },
      "MRR": {
        "mode": "text",
        "value": 1.0
      },
      "MAP": {
        "mode": "text",
        "value": 0.9998865985501768
      }
    },
    "fusion_improvement": {
      "R@1": {
        "absolute": -0.00033167495854058426,
        "relative_pct": -0.033167495854058426
      },
      "P@1": {
        "absolute": -0.00033167495854058426,
        "relative_pct": -0.033167495854058426
      },
      "R@5": {
        "absolute": 0.0,
        "relative_pct": 0.0
      },
      "P@5": {
        "absolute": -0.0029850746268654804,
        "relative_pct": -0.29850746268654804
      },
      "R@10": {
        "absolute": 0.0,
        "relative_pct": 0.0
      },
      "P@10": {
        "absolute": -0.006965174129352492,
        "relative_pct": -0.6965174129352492
      },
      "R@20": {
        "absolute": 0.0,
        "relative_pct": 0.0
      },
      "P@20": {
        "absolute": -0.013266998341626257,
        "relative_pct": -1.332889036987776
      },
      "MRR": {
        "absolute": -0.00024875621890552146,
        "relative_pct": -0.024875621890552146
      },
      "MAP": {
        "absolute": -0.00301791975125254,
        "relative_pct": -0.30182620265422966
      },
      "NDCG@5": {
        "absolute": -0.0003158113253595163,
        "relative_pct": -0.03158113253595163
      },
      "NDCG@10": {
        "absolute": -0.0004765821093510869,
        "relative_pct": -0.04765821093510869
      }
    }
  }
}